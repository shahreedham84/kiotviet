<!DOCTYPE html>
<html lang="vi" translate="no" class="notranslate">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="google" content="notranslate">
<title>KiotViet POS</title>
<link rel="stylesheet" href="style.css">
<!-- Added font link for consistency -->
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>

<!-- MAIN SCREEN -->
<div id="mainScreen">
  <header>
    <div class="menu">☰</div>
    <div>KiotViet</div>
  </header>

  <div class="tabs">
    <button class="active" data-filter="all">All</button>
    <button data-filter="inuse">In use</button>
    <button data-filter="available">Available</button>
  </div>

  <div class="grid" id="tableGrid"></div>
</div>

<!-- ORDER SCREEN -->
<div id="orderScreen" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 999; display: none; flex-direction: column;">
  <div class="order-header">
    <div class="close-btn" id="closeOrder">✕</div>
    <div class="table-name" id="currentTable"></div>
  </div>

  <div class="search-container">
    <input type="text" class="searchbox" placeholder="Tìm sản phẩm...">
  </div>
  <div id="searchResults"></div>

  <div id="orderList"></div>

  <div id="totalBar">
    <span>Total Amount</span>
    <span id="totalAmount">0</span>
  </div>

  <div id="footerButtons"></div>
</div>

<script src="products.js"></script>       <!-- your offline products -->
<script src="tables_orders.js"></script> <!-- tables + orders + footer -->
<script src="hamburger.js"></script>     <!-- hamburger menu -->

<script>
// --- Custom Alert/Confirm Replacement (WebView Safety) ---
// Note: Window.confirm/alert should not be used in WebViews.
function customAlert(message) {
    console.warn("User Alert/Confirmation Needed: " + message);
    // In a real app, this function would display a custom, stylish modal
    // that doesn't block the WebView's execution.
}

document.addEventListener('DOMContentLoaded', () => {
    // Initialize tables + orders + footer
    if(typeof initTablesOrders === 'function') initTablesOrders();

    // Initialize hamburger menu
    const hamburgerBtn = document.querySelector(".menu");
    if(typeof initHamburgerMenu === 'function') initHamburgerMenu(hamburgerBtn, () => {
        // *** MODIFIED CALLBACK: Replaced confirm() with a placeholder/log ***
        customAlert("Confirmation: Clear all tables?");
        window.tableOrders = {};
        if(typeof renderTables==='function') renderTables();
        console.log("Action: All tables data cleared.");
    });
});
</script>
</body>
</html>

